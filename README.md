# Создание базы данных для интернет-магазина

## Содержание
- [Сущности и атрибуты](#сущности-и-атрибуты)
- [Концептуальная и логическая модели](#концептуальная-и-логическая-модели)
- [Определение связей](#определение-связей)
- [Нормализация базы данных](#нормализация-базы-данных)
- [Реализация базы данных](#реализация-базы-данных)
- [Тестирование и написание запросов](#тестирование-и-написание-запросов)

## Сущности и атрибуты

### Пользователь (User)
Сущность представляет клиента интернет-магазина.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `user_id`           | INT, PK     | Уникальный идентификатор пользователя.         |
| `username`          | VARCHAR     | Имя пользователя.                              |
| `email`             | VARCHAR     | Электронная почта пользователя.                |
| `password`          | VARCHAR     | Зашифрованный пароль.                          |
| `address`           | TEXT        | Адрес доставки.                                |
| `phone_number`      | VARCHAR     | Номер телефона.                                |
| `registration_date` | TIMESTAMP   | Дата регистрации пользователя.                 |
| `is_admin`          | BOOLEAN     | Флаг, указывающий, является ли пользователь администратором. |

### Товар (Product)
Сущность представляет позицию товара, доступного для покупки.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `product_id`        | INT, PK     | Уникальный идентификатор товара.               |
| `name`              | VARCHAR     | Название товара.                               |
| `description`       | TEXT        | Описание товара.                               |
| `price`             | DECIMAL     | Цена товара.                                   |
| `stock`             | INT         | Количество товара в наличии.                   |
| `category_id`       | INT, FK     | Ссылка на категорию товара.                    |
| `created_at`        | TIMESTAMP   | Дата добавления товара в базу.                 |
| `attributes`        | JSON        | JSON-поле для хранения дополнительных характеристик товара (например, {"color": "black", "size": "M", "warranty": "1 year"}). |

### Категория (Category)
Сущность определяет тип товаров и используется для группировки товаров по категориям.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `category_id`       | INT, PK     | Уникальный идентификатор категории.            |
| `name`              | VARCHAR     | Название категории.                            |

### Product Category (Связующая таблица)
Связующая таблица.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `product_id`        | INT, FK     | Ссылка на товар.                               |
| `category_id`       | INT, FK     | Ссылка на категорию товара.                    |

### Корзина (Cart)
Временное хранилище для товаров, которые пользователь добавил перед покупкой.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `cart_id`           | INT, PK     | Уникальный идентификатор корзины.              |
| `user_id`           | INT, FK     | Ссылка на пользователя, который создал корзину.|
| `created_at`        | TIMESTAMP   | Дата создания корзины.                         |

### Элемент корзины (CartItem)
Связывающая сущность для связи товаров и корзины.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `cart_item_id`      | INT, PK     | Уникальный идентификатор элемента корзины.     |
| `cart_id`           | INT, FK     | Ссылка на корзину.                             |
| `product_id`        | INT, FK     | Ссылка на товар.                               |
| `quantity`          | INT         | Количество выбранного товара.                  |

### Заказ (Order)
Сущность, представляющая оформленный заказ.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `order_id`          | INT, PK     | Уникальный идентификатор заказа.               |
| `user_id`           | INT, FK     | Ссылка на пользователя, сделавшего заказ.      |
| `total_price`       | DECIMAL     | Общая стоимость заказа.                        |
| `status`            | VARCHAR     | Статус заказа (новый, в обработке, доставлен, отменён). |
| `order_date`        | TIMESTAMP   | Дата создания заказа.                          |
| `delivery_date`     | TIMESTAMP   | Дата доставки заказа.                          |

### Элемент заказа (OrderItem)
Сущность связывает товары и заказ, фиксируя состав заказа.

| Field               | Type        | Description                                    |
|---------------------|-------------|------------------------------------------------|
| `order_item_id`     | INT, PK     | Уникальный идентификатор элемента заказа.      |
| `order_id`          | INT, FK     | Ссылка на заказ.                               |
| `product_id`        | INT, FK     | Ссылка на товар.                               |
| `quantity`          | INT         | Количество товара в заказе.                    |
| `price`             | DECIMAL     | Цена товара на момент заказа.                  |


## Концептуальная и логическая модели

Для построения концептуальной модели, я воспользовался сервисом https://boardmix.com/. 
Данный сервис предоставляет большой выбор инструментов для создания различных схем и моделей. 

<p align="center">
  <img src="screenshots/model_1.png" alt="model" />
</p>
